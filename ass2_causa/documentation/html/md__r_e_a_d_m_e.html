<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.17"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Experimental robotics laboratory: second assignment: Experimental Robotics Laboratory: Second assignment</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="logo_orizzontale_BLACK.png"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Experimental robotics laboratory: second assignment
   &#160;<span id="projectnumber">Lorenzo Causa, 4519089</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.17 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="PageDoc"><div class="header">
  <div class="headertitle">
<div class="title">Experimental Robotics Laboratory: Second assignment </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><h1><a class="anchor" id="autotoc_md1"></a>
Introduction</h1>
<p>This is a ROS package that simulates a simple Cluedo-like investigation. It uses rosplan to manage pddl logic as reasoner and moveit for moving the arm and reach the hints.</p>
<h1><a class="anchor" id="autotoc_md2"></a>
Software architecture</h1>
<h2><a class="anchor" id="autotoc_md3"></a>
Component diagram</h2>
<p>In the diagram below you can see the nodes necessary for the correct functioning of the code. Since there are many nodes the complete component diagram would be unreadable. For this reason the proposed component diagram shows only the main parts and the most general connections.</p>
<p><img src="images/componentUML.png?raw=true" alt="Alt text" class="inline"/></p>
<ul>
<li><b>start:</b> This node starts the investigation and replan in a loop until the solution is found. The solution is signaled by receiving the message with the ID of the correct hypothesis (via subscrition to the topic /final solution).</li>
<li><b>ROSPLAN:</b> This component represents all parts that we saw of rosplan: Knowledge Base, Problem Interface, Planner Interface, Parsing Interface, Plan Dispatch.</li>
<li><b>simulation</b> The node given by the prof. It provides a publisher for the hints and a service for check the correct hipothesis's ID.</li>
<li><b>simulator</b> This component represents all nodes and interfaces of the simulation like gazebo and rviz.</li>
</ul>
<p><b>ACTIONs</b></p>
<p>This are the nodes implementing the actions of the pddl:</p><ul>
<li><b>initialize</b>: Brings the arm in the start pose and move my robot in a starting waypoint.</li>
<li><b>goto_waypoint</b>: Move my robot in waypoints.</li>
<li><b>take_hint</b>: Move the arm to take the hint and return to the start pose.</li>
<li><b>check_hp</b>: Check if there are new consistent hypoteses.</li>
<li><b>test_hp</b>: Test consistent hypotheses and if the correct one is found send the final solution message to stop the investigation.</li>
</ul>
<p><b>SERVICEs</b></p>
<p>This are nodes that I wrote to implement services that I need.</p><ul>
<li><b>listener:</b> It listen the hints and provide a services to check consistent hypotheses.</li>
<li><b><a class="el" href="namespacemove__arm.html">move_arm</a>:</b> It provides a service to use moveit and move the arm.</li>
<li><b>replan:</b> It provides a service to cancel the current plan and force a replan.</li>
<li><b><a class="el" href="namespacego__to__point.html">go_to_point</a>:</b> It provides a service to move to a point on the map with a certain orientation.</li>
</ul>
<h1><a class="anchor" id="autotoc_md4"></a>
TO DO LIST:</h1>
<p>1) Aggiusta il plan, ogni volta rifa initialize e potrebbe tornare a prendere l'hint dall'ultimo waypoint 2) Aggiungi test_hp 3) Il robot si ferma senza motivo tra le action, aggiustalo (non ho idea del perche ma succede anche a fedezecchi) 4) Attento a non ritestare ipotesi gi√† testate una volta</p>
<h1><a class="anchor" id="autotoc_md5"></a>
COME LANCIARLO:</h1>
<p>1) roslaunch <a class="el" href="namespaceexproblab__ass2.html">exproblab_ass2</a> my_robot_in_the_map.launch 2) roslaunch <a class="el" href="namespaceexproblab__ass2.html">exproblab_ass2</a> rosplan.launch 3) roslaunch <a class="el" href="namespaceexproblab__ass2.html">exproblab_ass2</a> my_services.launch 4) rosrun <a class="el" href="namespaceexproblab__ass2.html">exproblab_ass2</a> <a class="el" href="start_8py.html" title="start the investigation">start.py</a> </p>
</div></div><!-- contents -->
</div><!-- PageDoc -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.17
</small></address>
</body>
</html>
